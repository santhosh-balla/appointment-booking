{% extends 'base.html' %}

{% block title %}Create Appointment{% endblock %}

{% block content %}
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <h2>{% if edit_mode %}Edit{% else %}Schedule{% endif %} Appointment</h2>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">{% if edit_mode %}Update{% else %}Create{% endif %}</button>
    </form>
    <a href="{% url 'dashboard' %}" class="button">Back to Dashboard</a>
{% endblock %}

{% block extra_scripts %}
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        flatpickr("#id_date", {
            altInput: true,
            altFormat: "F j, Y",
            dateFormat: "Y-m-d"
        });

        flatpickr("#id_time", {
            enableTime: true,
            noCalendar: true,
            dateFormat: "H:i",
            time_24hr: false,
            minuteIncrement: 15
        });
    </script>
{% endblock %}
